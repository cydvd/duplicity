<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>duplicity.asyncscheduler module &#8212; duplicity  documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="duplicity.backend module" href="duplicity.backend.html" />
    <link rel="prev" title="duplicity.backends.webdavbackend module" href="duplicity.backends.webdavbackend.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-duplicity.asyncscheduler">
<span id="duplicity-asyncscheduler-module"></span><h1>duplicity.asyncscheduler module<a class="headerlink" href="#module-duplicity.asyncscheduler" title="Permalink to this headline">¶</a></h1>
<p>Asynchronous job scheduler, for concurrent execution with minimalistic
dependency guarantees.</p>
<dl class="class">
<dt id="duplicity.asyncscheduler.AsyncScheduler">
<em class="property">class </em><code class="descclassname">duplicity.asyncscheduler.</code><code class="descname">AsyncScheduler</code><span class="sig-paren">(</span><em>concurrency</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/duplicity/asyncscheduler.html#AsyncScheduler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#duplicity.asyncscheduler.AsyncScheduler" title="Permalink to this definition">¶</a></dt>
<dd><p>Easy-to-use scheduler of function calls to be executed
concurrently. A very simple dependency mechanism exists in the
form of barriers (see insert_barrier()).</p>
<p>Each instance has a concurrency level associated with it. A
concurrency of 0 implies that all tasks will be executed
synchronously when scheduled. A concurrency of 1 indicates that a
task will be executed asynchronously, but never concurrently with
other tasks. Both 0 and 1 guarantee strict ordering among all
tasks (i.e., they will be executed in the order scheduled).</p>
<p>At concurrency levels above 1, the tasks will end up being
executed in an order undetermined except insofar as is enforced by
calls to insert_barrier().</p>
<p>An AsynchScheduler should be created for any independent process;
the scheduler will assume that if any background job fails (raises
an exception), it makes further work moot.</p>
<dl class="method">
<dt id="duplicity.asyncscheduler.AsyncScheduler.insert_barrier">
<code class="descname">insert_barrier</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/duplicity/asyncscheduler.html#AsyncScheduler.insert_barrier"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#duplicity.asyncscheduler.AsyncScheduler.insert_barrier" title="Permalink to this definition">¶</a></dt>
<dd><p>Proclaim that any tasks scheduled prior to the call to this
method MUST be executed prior to any tasks scheduled after the
call to this method.</p>
<p>The intended use case is that if task B depends on A, a
barrier must be inserted in between to guarantee that A
happens before B.</p>
</dd></dl>

<dl class="method">
<dt id="duplicity.asyncscheduler.AsyncScheduler.schedule_task">
<code class="descname">schedule_task</code><span class="sig-paren">(</span><em>fn</em>, <em>params</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/duplicity/asyncscheduler.html#AsyncScheduler.schedule_task"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#duplicity.asyncscheduler.AsyncScheduler.schedule_task" title="Permalink to this definition">¶</a></dt>
<dd><p>Schedule the given task (callable, typically function) for
execution. Pass the given parameters to the function when
calling it. Returns a callable which can optionally be used
to wait for the task to complete, either by returning its
return value or by propagating any exception raised by said
task.</p>
<p>This method may block or return immediately, depending on the
configuration and state of the scheduler.</p>
<p>This method may also raise an exception in order to trigger
failures early, if the task (if run synchronously) or a previous
task has already failed.</p>
<p>NOTE: Pay particular attention to the scope in which this is
called. In particular, since it will execute concurrently in
the background, assuming fn is a closure, any variables used
most be properly bound in the closure. This is the reason for
the convenience feature of being able to give parameters to
the call, to avoid having to wrap the call itself in a
function in order to &#8220;fixate&#8221; variables in, for example, an
enclosing loop.</p>
</dd></dl>

<dl class="method">
<dt id="duplicity.asyncscheduler.AsyncScheduler.wait">
<code class="descname">wait</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/duplicity/asyncscheduler.html#AsyncScheduler.wait"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#duplicity.asyncscheduler.AsyncScheduler.wait" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for the scheduler to become entirely empty (i.e., all
tasks having run to completion).</p>
<p>IMPORTANT: This is only useful with a single caller scheduling
tasks, such that no call to schedule_task() is currently in
progress or may happen subsequently to the call to wait().</p>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="duplicity.html">duplicity package</a><ul>
      <li>Previous: <a href="duplicity.backends.webdavbackend.html" title="previous chapter">duplicity.backends.webdavbackend module</a></li>
      <li>Next: <a href="duplicity.backend.html" title="next chapter">duplicity.backend module</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/duplicity.asyncscheduler.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Kenneth Loafman and Duplicity Team.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.5.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.9</a>
      
      |
      <a href="_sources/duplicity.asyncscheduler.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>