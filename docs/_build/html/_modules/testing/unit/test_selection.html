<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>testing.unit.test_selection &#8212; duplicity  documentation</title>
    
    <link rel="stylesheet" href="../../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for testing.unit.test_selection</h1><div class="highlight"><pre>
<span></span><span class="c1"># -*- Mode:Python; indent-tabs-mode:nil; tab-width:4 -*-</span>
<span class="c1">#</span>
<span class="c1"># Copyright 2002 Ben Escoto &lt;ben@emerose.org&gt;</span>
<span class="c1"># Copyright 2007 Kenneth Loafman &lt;kenneth@loafman.com&gt;</span>
<span class="c1"># Copyright 2014 Aaron Whitehouse &lt;aaron@whitehouse.kiwi.nz&gt;</span>
<span class="c1">#</span>
<span class="c1"># This file is part of duplicity.</span>
<span class="c1">#</span>
<span class="c1"># Duplicity is free software; you can redistribute it and/or modify it</span>
<span class="c1"># under the terms of the GNU General Public License as published by the</span>
<span class="c1"># Free Software Foundation; either version 2 of the License, or (at your</span>
<span class="c1"># option) any later version.</span>
<span class="c1">#</span>
<span class="c1"># Duplicity is distributed in the hope that it will be useful, but</span>
<span class="c1"># WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="c1"># MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>
<span class="c1"># General Public License for more details.</span>
<span class="c1">#</span>
<span class="c1"># You should have received a copy of the GNU General Public License</span>
<span class="c1"># along with duplicity; if not, write to the Free Software Foundation,</span>
<span class="c1"># Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307 USA</span>

<span class="kn">import</span> <span class="nn">types</span>
<span class="kn">import</span> <span class="nn">StringIO</span>
<span class="kn">import</span> <span class="nn">unittest</span>
<span class="kn">import</span> <span class="nn">duplicity.path</span>

<span class="kn">from</span> <span class="nn">duplicity.selection</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># @UnusedWildImport</span>
<span class="kn">from</span> <span class="nn">duplicity.lazy</span> <span class="k">import</span> <span class="o">*</span>  <span class="c1"># @UnusedWildImport</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="k">import</span> <span class="n">UnitTestCase</span>
<span class="kn">from</span> <span class="nn">mock</span> <span class="k">import</span> <span class="n">patch</span>


<div class="viewcode-block" id="MatchingTest"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.MatchingTest">[docs]</a><span class="k">class</span> <span class="nc">MatchingTest</span><span class="p">(</span><span class="n">UnitTestCase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Test matching of file names against various selection functions&quot;&quot;&quot;</span>
<div class="viewcode-block" id="MatchingTest.setUp"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.MatchingTest.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">MatchingTest</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">setUp</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">unpack_testfiles</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">root</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;testfiles/select&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Select</span> <span class="o">=</span> <span class="n">Select</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="p">)</span></div>

<div class="viewcode-block" id="MatchingTest.makeext"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.MatchingTest.makeext">[docs]</a>    <span class="k">def</span> <span class="nf">makeext</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">new_index</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)))</span></div>

<div class="viewcode-block" id="MatchingTest.testRegexp"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.MatchingTest.testRegexp">[docs]</a>    <span class="k">def</span> <span class="nf">testRegexp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Test regular expression selection func&quot;&quot;&quot;</span>
        <span class="n">sf1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Select</span><span class="o">.</span><span class="n">regexp_get_sf</span><span class="p">(</span><span class="s2">&quot;.*\.py&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">sf1</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">makeext</span><span class="p">(</span><span class="s2">&quot;1.py&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">1</span>
        <span class="k">assert</span> <span class="n">sf1</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">makeext</span><span class="p">(</span><span class="s2">&quot;usr/foo.py&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">1</span>
        <span class="k">assert</span> <span class="n">sf1</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;1.doc&quot;</span><span class="p">))</span> <span class="ow">is</span> <span class="kc">None</span>

        <span class="n">sf2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Select</span><span class="o">.</span><span class="n">regexp_get_sf</span><span class="p">(</span><span class="s2">&quot;hello&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">sf2</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="s2">&quot;hello&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="k">assert</span> <span class="n">sf2</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="s2">&quot;foohello_there&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="k">assert</span> <span class="n">sf2</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">))</span> <span class="ow">is</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="MatchingTest.test_tuple_include"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.MatchingTest.test_tuple_include">[docs]</a>    <span class="k">def</span> <span class="nf">test_tuple_include</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Test include selection function made from a regular filename&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">FilePrefixError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Select</span><span class="o">.</span><span class="n">glob_get_normal_sf</span><span class="p">,</span>
                          <span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

        <span class="n">sf2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Select</span><span class="o">.</span><span class="n">glob_get_sf</span><span class="p">(</span><span class="s2">&quot;testfiles/select/usr/local/bin/&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

        <span class="k">with</span> <span class="n">patch</span><span class="p">(</span><span class="s1">&#39;duplicity.path.ROPath.isdir&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">mock_isdir</span><span class="p">:</span>
            <span class="n">mock_isdir</span><span class="o">.</span><span class="n">return_value</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="c1"># Can&#39;t pass the return_value as an argument to patch, i.e.:</span>
            <span class="c1"># with patch(&#39;duplicity.path.ROPath.isdir&#39;, return_value=True):</span>
            <span class="c1"># as build system&#39;s mock is too old to support it.</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">sf2</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">makeext</span><span class="p">(</span><span class="s2">&quot;usr&quot;</span><span class="p">)),</span> <span class="mi">2</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">sf2</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">makeext</span><span class="p">(</span><span class="s2">&quot;usr/local&quot;</span><span class="p">)),</span> <span class="mi">2</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">sf2</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">makeext</span><span class="p">(</span><span class="s2">&quot;usr/local/bin&quot;</span><span class="p">)),</span> <span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">sf2</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">makeext</span><span class="p">(</span><span class="s2">&quot;usr/local/doc&quot;</span><span class="p">)),</span> <span class="kc">None</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">sf2</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">makeext</span><span class="p">(</span><span class="s2">&quot;usr/local/bin/gzip&quot;</span><span class="p">)),</span> <span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">sf2</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">makeext</span><span class="p">(</span><span class="s2">&quot;usr/local/bingzip&quot;</span><span class="p">)),</span> <span class="kc">None</span><span class="p">)</span></div>

<div class="viewcode-block" id="MatchingTest.test_tuple_exclude"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.MatchingTest.test_tuple_exclude">[docs]</a>    <span class="k">def</span> <span class="nf">test_tuple_exclude</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Test exclude selection function made from a regular filename&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">FilePrefixError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Select</span><span class="o">.</span><span class="n">glob_get_normal_sf</span><span class="p">,</span>
                          <span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="n">sf2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Select</span><span class="o">.</span><span class="n">glob_get_sf</span><span class="p">(</span><span class="s2">&quot;testfiles/select/usr/local/bin/&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="k">with</span> <span class="n">patch</span><span class="p">(</span><span class="s1">&#39;duplicity.path.ROPath.isdir&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">mock_isdir</span><span class="p">:</span>
            <span class="n">mock_isdir</span><span class="o">.</span><span class="n">return_value</span> <span class="o">=</span> <span class="kc">True</span>

            <span class="k">assert</span> <span class="n">sf2</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">makeext</span><span class="p">(</span><span class="s2">&quot;usr&quot;</span><span class="p">))</span> <span class="ow">is</span> <span class="kc">None</span>
            <span class="k">assert</span> <span class="n">sf2</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">makeext</span><span class="p">(</span><span class="s2">&quot;usr/local&quot;</span><span class="p">))</span> <span class="ow">is</span> <span class="kc">None</span>
            <span class="k">assert</span> <span class="n">sf2</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">makeext</span><span class="p">(</span><span class="s2">&quot;usr/local/bin&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">0</span>
            <span class="k">assert</span> <span class="n">sf2</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">makeext</span><span class="p">(</span><span class="s2">&quot;usr/local/doc&quot;</span><span class="p">))</span> <span class="ow">is</span> <span class="kc">None</span>
            <span class="k">assert</span> <span class="n">sf2</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">makeext</span><span class="p">(</span><span class="s2">&quot;usr/local/bin/gzip&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">0</span>
            <span class="k">assert</span> <span class="n">sf2</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">makeext</span><span class="p">(</span><span class="s2">&quot;usr/local/bingzip&quot;</span><span class="p">))</span> <span class="ow">is</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="MatchingTest.test_glob_star_include"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.MatchingTest.test_glob_star_include">[docs]</a>    <span class="k">def</span> <span class="nf">test_glob_star_include</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Test a few globbing patterns, including **&quot;&quot;&quot;</span>
        <span class="n">sf1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Select</span><span class="o">.</span><span class="n">glob_get_sf</span><span class="p">(</span><span class="s2">&quot;**&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">sf1</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">makeext</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">1</span>
        <span class="k">assert</span> <span class="n">sf1</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">makeext</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">1</span>

        <span class="n">sf2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Select</span><span class="o">.</span><span class="n">glob_get_sf</span><span class="p">(</span><span class="s2">&quot;**.py&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">sf2</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">makeext</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">2</span>
        <span class="k">assert</span> <span class="n">sf2</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">makeext</span><span class="p">(</span><span class="s2">&quot;usr/local/bin&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">2</span>
        <span class="k">assert</span> <span class="n">sf2</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">makeext</span><span class="p">(</span><span class="s2">&quot;what/ever.py&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">1</span>
        <span class="k">assert</span> <span class="n">sf2</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">makeext</span><span class="p">(</span><span class="s2">&quot;what/ever.py/foo&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">1</span></div>

<div class="viewcode-block" id="MatchingTest.test_glob_star_exclude"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.MatchingTest.test_glob_star_exclude">[docs]</a>    <span class="k">def</span> <span class="nf">test_glob_star_exclude</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Test a few glob excludes, including **&quot;&quot;&quot;</span>
        <span class="n">sf1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Select</span><span class="o">.</span><span class="n">glob_get_sf</span><span class="p">(</span><span class="s2">&quot;**&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">sf1</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">makeext</span><span class="p">(</span><span class="s2">&quot;/usr/local/bin&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">0</span>

        <span class="n">sf2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Select</span><span class="o">.</span><span class="n">glob_get_sf</span><span class="p">(</span><span class="s2">&quot;**.py&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">sf2</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">makeext</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">))</span> <span class="ow">is</span> <span class="kc">None</span>
        <span class="k">assert</span> <span class="n">sf2</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">makeext</span><span class="p">(</span><span class="s2">&quot;usr/local/bin&quot;</span><span class="p">))</span> <span class="ow">is</span> <span class="kc">None</span>
        <span class="k">assert</span> <span class="n">sf2</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">makeext</span><span class="p">(</span><span class="s2">&quot;what/ever.py&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="k">assert</span> <span class="n">sf2</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">makeext</span><span class="p">(</span><span class="s2">&quot;what/ever.py/foo&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">0</span></div>

<div class="viewcode-block" id="MatchingTest.test_simple_glob_double_asterisk"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.MatchingTest.test_simple_glob_double_asterisk">[docs]</a>    <span class="k">def</span> <span class="nf">test_simple_glob_double_asterisk</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;test_simple_glob_double_asterisk - primarily to check that the defaults used by the error tests work&quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">Select</span><span class="o">.</span><span class="n">glob_get_normal_sf</span><span class="p">(</span><span class="s2">&quot;**&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span></div>

<div class="viewcode-block" id="MatchingTest.test_glob_sf_exception"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.MatchingTest.test_glob_sf_exception">[docs]</a>    <span class="k">def</span> <span class="nf">test_glob_sf_exception</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;test_glob_sf_exception - see if globbing errors returned&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">GlobbingError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Select</span><span class="o">.</span><span class="n">glob_get_normal_sf</span><span class="p">,</span>
                          <span class="s2">&quot;testfiles/select/hello//there&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span></div>

<div class="viewcode-block" id="MatchingTest.test_file_prefix_sf_exception"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.MatchingTest.test_file_prefix_sf_exception">[docs]</a>    <span class="k">def</span> <span class="nf">test_file_prefix_sf_exception</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;test_file_prefix_sf_exception - see if FilePrefix error is returned&quot;&quot;&quot;</span>
        <span class="c1"># These should raise a FilePrefixError because the root directory for the selection is &quot;testfiles/select&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">FilePrefixError</span><span class="p">,</span>
                          <span class="bp">self</span><span class="o">.</span><span class="n">Select</span><span class="o">.</span><span class="n">glob_get_sf</span><span class="p">,</span> <span class="s2">&quot;testfiles/whatever&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">FilePrefixError</span><span class="p">,</span>
                          <span class="bp">self</span><span class="o">.</span><span class="n">Select</span><span class="o">.</span><span class="n">glob_get_sf</span><span class="p">,</span> <span class="s2">&quot;testfiles/?hello&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span></div>

<div class="viewcode-block" id="MatchingTest.test_scan"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.MatchingTest.test_scan">[docs]</a>    <span class="k">def</span> <span class="nf">test_scan</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Tests what is returned for selection tests regarding directory scanning&quot;&quot;&quot;</span>
        <span class="n">select</span> <span class="o">=</span> <span class="n">Select</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">))</span>

        <span class="k">assert</span> <span class="n">select</span><span class="o">.</span><span class="n">glob_get_sf</span><span class="p">(</span><span class="s2">&quot;**.py&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)(</span><span class="n">Path</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">2</span>
        <span class="k">assert</span> <span class="n">select</span><span class="o">.</span><span class="n">glob_get_sf</span><span class="p">(</span><span class="s2">&quot;**.py&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)(</span><span class="n">Path</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">2</span>
        <span class="k">assert</span> <span class="n">select</span><span class="o">.</span><span class="n">glob_get_sf</span><span class="p">(</span><span class="s2">&quot;**.py&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)(</span><span class="n">Path</span><span class="p">(</span><span class="s2">&quot;usr/local/bin&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">2</span>
        <span class="k">assert</span> <span class="n">select</span><span class="o">.</span><span class="n">glob_get_sf</span><span class="p">(</span><span class="s2">&quot;/testfiles/select/**.py&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)(</span><span class="n">Path</span><span class="p">(</span><span class="s2">&quot;/testfiles/select&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">2</span>
        <span class="k">assert</span> <span class="n">select</span><span class="o">.</span><span class="n">glob_get_sf</span><span class="p">(</span><span class="s2">&quot;/testfiles/select/test.py&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)(</span><span class="n">Path</span><span class="p">(</span><span class="s2">&quot;/testfiles/select&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">2</span>
        <span class="k">assert</span> <span class="n">select</span><span class="o">.</span><span class="n">glob_get_normal_sf</span><span class="p">(</span><span class="s2">&quot;/testfiles/se?ect/test.py&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)(</span><span class="n">Path</span><span class="p">(</span><span class="s2">&quot;/testfiles/select&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">2</span>
        <span class="k">assert</span> <span class="n">select</span><span class="o">.</span><span class="n">glob_get_sf</span><span class="p">(</span><span class="s2">&quot;/testfiles/select/test.py&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)(</span><span class="n">Path</span><span class="p">(</span><span class="s2">&quot;/testfiles/select&quot;</span><span class="p">))</span> <span class="ow">is</span> <span class="kc">None</span>
        <span class="k">assert</span> <span class="n">select</span><span class="o">.</span><span class="n">glob_get_normal_sf</span><span class="p">(</span><span class="s2">&quot;/testfiles/select/test.py&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)(</span><span class="n">Path</span><span class="p">(</span><span class="s2">&quot;/testfiles/select&quot;</span><span class="p">))</span> <span class="ow">is</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="MatchingTest.test_ignore_case"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.MatchingTest.test_ignore_case">[docs]</a>    <span class="k">def</span> <span class="nf">test_ignore_case</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;test_ignore_case - try a few expressions with ignorecase:&quot;&quot;&quot;</span>

        <span class="n">sf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Select</span><span class="o">.</span><span class="n">glob_get_sf</span><span class="p">(</span><span class="s2">&quot;ignorecase:testfiles/SeLect/foo/bar&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">sf</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">makeext</span><span class="p">(</span><span class="s2">&quot;FOO/BAR&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">1</span>
        <span class="k">assert</span> <span class="n">sf</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">makeext</span><span class="p">(</span><span class="s2">&quot;foo/bar&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">1</span>
        <span class="k">assert</span> <span class="n">sf</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">makeext</span><span class="p">(</span><span class="s2">&quot;fOo/BaR&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">FilePrefixError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Select</span><span class="o">.</span><span class="n">glob_get_sf</span><span class="p">,</span> <span class="s2">&quot;ignorecase:tesfiles/sect/foo/bar&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span></div>

<div class="viewcode-block" id="MatchingTest.test_root"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.MatchingTest.test_root">[docs]</a>    <span class="k">def</span> <span class="nf">test_root</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;test_root - / may be a counterexample to several of these..&quot;&quot;&quot;</span>
        <span class="n">root</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
        <span class="n">select</span> <span class="o">=</span> <span class="n">Select</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">select</span><span class="o">.</span><span class="n">glob_get_sf</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)(</span><span class="n">root</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">select</span><span class="o">.</span><span class="n">glob_get_sf</span><span class="p">(</span><span class="s2">&quot;/foo&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)(</span><span class="n">root</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">select</span><span class="o">.</span><span class="n">glob_get_sf</span><span class="p">(</span><span class="s2">&quot;/foo/bar&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)(</span><span class="n">root</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">select</span><span class="o">.</span><span class="n">glob_get_sf</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)(</span><span class="n">root</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">select</span><span class="o">.</span><span class="n">glob_get_sf</span><span class="p">(</span><span class="s2">&quot;/foo&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)(</span><span class="n">root</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>

        <span class="k">assert</span> <span class="n">select</span><span class="o">.</span><span class="n">glob_get_sf</span><span class="p">(</span><span class="s2">&quot;**.py&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)(</span><span class="n">root</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>
        <span class="k">assert</span> <span class="n">select</span><span class="o">.</span><span class="n">glob_get_sf</span><span class="p">(</span><span class="s2">&quot;**&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)(</span><span class="n">root</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
        <span class="k">assert</span> <span class="n">select</span><span class="o">.</span><span class="n">glob_get_sf</span><span class="p">(</span><span class="s2">&quot;ignorecase:/&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)(</span><span class="n">root</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
        <span class="k">assert</span> <span class="n">select</span><span class="o">.</span><span class="n">glob_get_sf</span><span class="p">(</span><span class="s2">&quot;**.py&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)(</span><span class="n">root</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span>
        <span class="k">assert</span> <span class="n">select</span><span class="o">.</span><span class="n">glob_get_sf</span><span class="p">(</span><span class="s2">&quot;**&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)(</span><span class="n">root</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="k">assert</span> <span class="n">select</span><span class="o">.</span><span class="n">glob_get_sf</span><span class="p">(</span><span class="s2">&quot;/foo/*&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)(</span><span class="n">root</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="MatchingTest.test_other_filesystems"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.MatchingTest.test_other_filesystems">[docs]</a>    <span class="k">def</span> <span class="nf">test_other_filesystems</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Test to see if --exclude-other-filesystems works correctly&quot;&quot;&quot;</span>
        <span class="n">root</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
        <span class="n">select</span> <span class="o">=</span> <span class="n">Select</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
        <span class="n">sf</span> <span class="o">=</span> <span class="n">select</span><span class="o">.</span><span class="n">other_filesystems_get_sf</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">sf</span><span class="p">(</span><span class="n">root</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">ismount</span><span class="p">(</span><span class="s2">&quot;/usr/bin&quot;</span><span class="p">):</span>
            <span class="n">sfval</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">sfval</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">assert</span> <span class="n">sf</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="s2">&quot;/usr/bin&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="n">sfval</span><span class="p">,</span> \
            <span class="s2">&quot;Assumption: /usr/bin is on the same filesystem as /&quot;</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">ismount</span><span class="p">(</span><span class="s2">&quot;/dev&quot;</span><span class="p">):</span>
            <span class="n">sfval</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">sfval</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">assert</span> <span class="n">sf</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="s2">&quot;/dev&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="n">sfval</span><span class="p">,</span> \
            <span class="s2">&quot;Assumption: /dev is on a different filesystem&quot;</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">ismount</span><span class="p">(</span><span class="s2">&quot;/proc&quot;</span><span class="p">):</span>
            <span class="n">sfval</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">sfval</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">assert</span> <span class="n">sf</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="s2">&quot;/proc&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="n">sfval</span><span class="p">,</span> \
            <span class="s2">&quot;Assumption: /proc is on a different filesystem&quot;</span></div></div>


<div class="viewcode-block" id="ParseArgsTest"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest">[docs]</a><span class="k">class</span> <span class="nc">ParseArgsTest</span><span class="p">(</span><span class="n">UnitTestCase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Test argument parsing&quot;&quot;&quot;</span>
<div class="viewcode-block" id="ParseArgsTest.setUp"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">ParseArgsTest</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">setUp</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">unpack_testfiles</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">root</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">expected_restored_tree</span> <span class="o">=</span> <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1sub1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1sub1&#39;</span><span class="p">,</span> <span class="s1">&#39;1sub1sub1&#39;</span><span class="p">),</span>
                                       <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1sub1&#39;</span><span class="p">,</span> <span class="s1">&#39;1sub1sub1&#39;</span><span class="p">,</span> <span class="s1">&#39;1sub1sub1_file.txt&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1sub1&#39;</span><span class="p">,</span> <span class="s1">&#39;1sub1sub3&#39;</span><span class="p">),</span>
                                       <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1sub2&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1sub2&#39;</span><span class="p">,</span> <span class="s1">&#39;1sub2sub1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1sub3&#39;</span><span class="p">),</span>
                                       <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1sub3&#39;</span><span class="p">,</span> <span class="s1">&#39;1sub3sub3&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1.py&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;2sub1&#39;</span><span class="p">),</span>
                                       <span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;2sub1&#39;</span><span class="p">,</span> <span class="s1">&#39;2sub1sub1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;2sub1&#39;</span><span class="p">,</span> <span class="s1">&#39;2sub1sub1&#39;</span><span class="p">,</span> <span class="s1">&#39;2sub1sub1_file.txt&#39;</span><span class="p">),</span>
                                       <span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;3sub2&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;3sub2&#39;</span><span class="p">,</span> <span class="s1">&#39;3sub2sub1&#39;</span><span class="p">),</span>
                                       <span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;3sub2&#39;</span><span class="p">,</span> <span class="s1">&#39;3sub2sub2&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;3sub2&#39;</span><span class="p">,</span> <span class="s1">&#39;3sub2sub3&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;3sub3&#39;</span><span class="p">),</span>
                                       <span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;3sub3&#39;</span><span class="p">,</span> <span class="s1">&#39;3sub3sub1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;3sub3&#39;</span><span class="p">,</span> <span class="s1">&#39;3sub3sub2&#39;</span><span class="p">),</span>
                                       <span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;3sub3&#39;</span><span class="p">,</span> <span class="s1">&#39;3sub3sub2&#39;</span><span class="p">,</span> <span class="s1">&#39;3sub3sub2_file.txt&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;3sub3&#39;</span><span class="p">,</span> <span class="s1">&#39;3sub3sub3&#39;</span><span class="p">)]</span></div>

<div class="viewcode-block" id="ParseArgsTest.ParseTest"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.ParseTest">[docs]</a>    <span class="k">def</span> <span class="nf">ParseTest</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tuplelist</span><span class="p">,</span> <span class="n">indicies</span><span class="p">,</span> <span class="n">filelists</span><span class="o">=</span><span class="p">[]):</span>
        <span class="sd">&quot;&quot;&quot;No error if running select on tuple goes over indicies&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">root</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;testfiles/select&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Select</span> <span class="o">=</span> <span class="n">Select</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Select</span><span class="o">.</span><span class="n">ParseArgs</span><span class="p">(</span><span class="n">tuplelist</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">remake_filelists</span><span class="p">(</span><span class="n">filelists</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Select</span><span class="o">.</span><span class="n">set_iter</span><span class="p">()</span>
        <span class="n">results_as_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">Iter</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">path</span><span class="p">:</span> <span class="n">path</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Select</span><span class="p">))</span>
        <span class="c1"># print(results_as_list)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">indicies</span><span class="p">,</span> <span class="n">results_as_list</span><span class="p">)</span></div>

<div class="viewcode-block" id="ParseArgsTest.remake_filelists"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.remake_filelists">[docs]</a>    <span class="k">def</span> <span class="nf">remake_filelists</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filelist</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Turn strings in filelist into fileobjs&quot;&quot;&quot;</span>
        <span class="n">new_filelists</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">filelist</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">types</span><span class="o">.</span><span class="n">StringType</span><span class="p">):</span>
                <span class="n">new_filelists</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">StringIO</span><span class="o">.</span><span class="n">StringIO</span><span class="p">(</span><span class="n">f</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">new_filelists</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">new_filelists</span></div>

<div class="viewcode-block" id="ParseArgsTest.test_parse"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.test_parse">[docs]</a>    <span class="k">def</span> <span class="nf">test_parse</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Test just one include, all exclude&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--include&quot;</span><span class="p">,</span> <span class="s2">&quot;testfiles/select/1/1&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;**&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;1&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">)])</span></div>

<div class="viewcode-block" id="ParseArgsTest.test_parse2"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.test_parse2">[docs]</a>    <span class="k">def</span> <span class="nf">test_parse2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Test three level include/exclude&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;testfiles/select/1/1/1&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--include&quot;</span><span class="p">,</span> <span class="s2">&quot;testfiles/select/1/1&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;testfiles/select/1&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;**&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">)])</span></div>

<div class="viewcode-block" id="ParseArgsTest.test_filelist"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.test_filelist">[docs]</a>    <span class="k">def</span> <span class="nf">test_filelist</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Filelist glob test similar to above testParse2&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--include-filelist&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">)],</span>
                       <span class="p">[</span><span class="s2">&quot;- testfiles/select/1/1/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;testfiles/select/1/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- testfiles/select/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- **&quot;</span><span class="p">])</span></div>

<div class="viewcode-block" id="ParseArgsTest.test_include_filelist_1_trailing_whitespace"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.test_include_filelist_1_trailing_whitespace">[docs]</a>    <span class="k">def</span> <span class="nf">test_include_filelist_1_trailing_whitespace</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Filelist glob test similar to globbing filelist, but with 1 trailing whitespace on include&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--include-filelist&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">)],</span>
                       <span class="p">[</span><span class="s2">&quot;- testfiles/select/1/1/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;testfiles/select/1/1 </span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- testfiles/select/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- **&quot;</span><span class="p">])</span></div>

<div class="viewcode-block" id="ParseArgsTest.test_include_filelist_2_trailing_whitespaces"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.test_include_filelist_2_trailing_whitespaces">[docs]</a>    <span class="k">def</span> <span class="nf">test_include_filelist_2_trailing_whitespaces</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Filelist glob test similar to globbing filelist, but with 2 trailing whitespaces on include&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--include-filelist&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">)],</span>
                       <span class="p">[</span><span class="s2">&quot;- testfiles/select/1/1/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;testfiles/select/1/1  </span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- testfiles/select/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- **&quot;</span><span class="p">])</span></div>

<div class="viewcode-block" id="ParseArgsTest.test_include_filelist_1_leading_whitespace"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.test_include_filelist_1_leading_whitespace">[docs]</a>    <span class="k">def</span> <span class="nf">test_include_filelist_1_leading_whitespace</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Filelist glob test similar to globbing filelist, but with 1 leading whitespace on include&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--include-filelist&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">)],</span>
                       <span class="p">[</span><span class="s2">&quot;- testfiles/select/1/1/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot; testfiles/select/1/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- testfiles/select/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- **&quot;</span><span class="p">])</span></div>

<div class="viewcode-block" id="ParseArgsTest.test_include_filelist_2_leading_whitespaces"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.test_include_filelist_2_leading_whitespaces">[docs]</a>    <span class="k">def</span> <span class="nf">test_include_filelist_2_leading_whitespaces</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Filelist glob test similar to globbing filelist, but with 2 leading whitespaces on include&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--include-filelist&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">)],</span>
                       <span class="p">[</span><span class="s2">&quot;- testfiles/select/1/1/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;  testfiles/select/1/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- testfiles/select/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- **&quot;</span><span class="p">])</span></div>

<div class="viewcode-block" id="ParseArgsTest.test_include_filelist_1_trailing_whitespace_exclude"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.test_include_filelist_1_trailing_whitespace_exclude">[docs]</a>    <span class="k">def</span> <span class="nf">test_include_filelist_1_trailing_whitespace_exclude</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Filelist glob test similar to globbing filelist, but with 1 trailing whitespace on exclude&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--include-filelist&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">)],</span>
                       <span class="p">[</span><span class="s2">&quot;- testfiles/select/1/1/1 </span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;testfiles/select/1/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- testfiles/select/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- **&quot;</span><span class="p">])</span></div>

<div class="viewcode-block" id="ParseArgsTest.test_include_filelist_2_trailing_whitespace_exclude"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.test_include_filelist_2_trailing_whitespace_exclude">[docs]</a>    <span class="k">def</span> <span class="nf">test_include_filelist_2_trailing_whitespace_exclude</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Filelist glob test similar to globbing filelist, but with 2 trailing whitespaces on exclude&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--include-filelist&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">)],</span>
                       <span class="p">[</span><span class="s2">&quot;- testfiles/select/1/1/1  </span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;testfiles/select/1/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- testfiles/select/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- **&quot;</span><span class="p">])</span></div>

<div class="viewcode-block" id="ParseArgsTest.test_include_filelist_1_leading_whitespace_exclude"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.test_include_filelist_1_leading_whitespace_exclude">[docs]</a>    <span class="k">def</span> <span class="nf">test_include_filelist_1_leading_whitespace_exclude</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Filelist glob test similar to globbing filelist, but with 1 leading whitespace on exclude&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--include-filelist&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">)],</span>
                       <span class="p">[</span><span class="s2">&quot; - testfiles/select/1/1/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;testfiles/select/1/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- testfiles/select/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- **&quot;</span><span class="p">])</span></div>

<div class="viewcode-block" id="ParseArgsTest.test_include_filelist_2_leading_whitespaces_exclude"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.test_include_filelist_2_leading_whitespaces_exclude">[docs]</a>    <span class="k">def</span> <span class="nf">test_include_filelist_2_leading_whitespaces_exclude</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Filelist glob test similar to globbing filelist, but with 2 leading whitespaces on exclude&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--include-filelist&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">)],</span>
                       <span class="p">[</span><span class="s2">&quot;  - testfiles/select/1/1/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;testfiles/select/1/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- testfiles/select/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- **&quot;</span><span class="p">])</span></div>

<div class="viewcode-block" id="ParseArgsTest.test_include_filelist_check_excluded_folder_included_for_contents"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.test_include_filelist_check_excluded_folder_included_for_contents">[docs]</a>    <span class="k">def</span> <span class="nf">test_include_filelist_check_excluded_folder_included_for_contents</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Filelist glob test to check excluded folder is included if contents are&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--include-filelist&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">)],</span>
                       <span class="p">[</span><span class="s2">&quot;+ testfiles/select/1/2/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- testfiles/select/1/2</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;testfiles/select/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- **&quot;</span><span class="p">])</span></div>

<div class="viewcode-block" id="ParseArgsTest.test_include_filelist_with_unnecessary_quotes"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.test_include_filelist_with_unnecessary_quotes">[docs]</a>    <span class="k">def</span> <span class="nf">test_include_filelist_with_unnecessary_quotes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Filelist glob test similar to globbing filelist, but with quotes around one of the paths.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--include-filelist&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">)],</span>
                       <span class="p">[</span><span class="s2">&quot;- &#39;testfiles/select/1/1/1&#39;</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;testfiles/select/1/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- testfiles/select/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- **&quot;</span><span class="p">])</span></div>

<div class="viewcode-block" id="ParseArgsTest.test_include_filelist_with_unnecessary_double_quotes"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.test_include_filelist_with_unnecessary_double_quotes">[docs]</a>    <span class="k">def</span> <span class="nf">test_include_filelist_with_unnecessary_double_quotes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Filelist glob test similar to globbing filelist, but with double quotes around one of the paths.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--include-filelist&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">)],</span>
                       <span class="p">[</span><span class="s1">&#39;- &quot;testfiles/select/1/1/1&quot;</span><span class="se">\n</span><span class="s1">&#39;</span>
                        <span class="s1">&#39;testfiles/select/1/1</span><span class="se">\n</span><span class="s1">&#39;</span>
                        <span class="s1">&#39;- testfiles/select/1</span><span class="se">\n</span><span class="s1">&#39;</span>
                        <span class="s1">&#39;- **&#39;</span><span class="p">])</span></div>

<div class="viewcode-block" id="ParseArgsTest.test_include_filelist_with_full_line_comment"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.test_include_filelist_with_full_line_comment">[docs]</a>    <span class="k">def</span> <span class="nf">test_include_filelist_with_full_line_comment</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Filelist glob test similar to globbing filelist, but with a full-line comment.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--include-filelist&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">)],</span>
                       <span class="p">[</span><span class="s1">&#39;- testfiles/select/1/1/1</span><span class="se">\n</span><span class="s1">&#39;</span>
                        <span class="s1">&#39;# This is a test</span><span class="se">\n</span><span class="s1">&#39;</span>
                        <span class="s1">&#39;testfiles/select/1/1</span><span class="se">\n</span><span class="s1">&#39;</span>
                        <span class="s1">&#39;- testfiles/select/1</span><span class="se">\n</span><span class="s1">&#39;</span>
                        <span class="s1">&#39;- **&#39;</span><span class="p">])</span></div>

<div class="viewcode-block" id="ParseArgsTest.test_include_filelist_with_blank_line"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.test_include_filelist_with_blank_line">[docs]</a>    <span class="k">def</span> <span class="nf">test_include_filelist_with_blank_line</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Filelist glob test similar to globbing filelist, but with a blank line.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--include-filelist&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">)],</span>
                       <span class="p">[</span><span class="s1">&#39;- testfiles/select/1/1/1</span><span class="se">\n</span><span class="s1">&#39;</span>
                        <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
                        <span class="s1">&#39;testfiles/select/1/1</span><span class="se">\n</span><span class="s1">&#39;</span>
                        <span class="s1">&#39;- testfiles/select/1</span><span class="se">\n</span><span class="s1">&#39;</span>
                        <span class="s1">&#39;- **&#39;</span><span class="p">])</span></div>

<div class="viewcode-block" id="ParseArgsTest.test_include_filelist_with_blank_line_and_whitespace"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.test_include_filelist_with_blank_line_and_whitespace">[docs]</a>    <span class="k">def</span> <span class="nf">test_include_filelist_with_blank_line_and_whitespace</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Filelist glob test similar to globbing filelist, but with a blank line and whitespace.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--include-filelist&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">)],</span>
                       <span class="p">[</span><span class="s1">&#39;- testfiles/select/1/1/1</span><span class="se">\n</span><span class="s1">&#39;</span>
                        <span class="s1">&#39;  </span><span class="se">\n</span><span class="s1">&#39;</span>
                        <span class="s1">&#39;testfiles/select/1/1</span><span class="se">\n</span><span class="s1">&#39;</span>
                        <span class="s1">&#39;- testfiles/select/1</span><span class="se">\n</span><span class="s1">&#39;</span>
                        <span class="s1">&#39;- **&#39;</span><span class="p">])</span></div>

<div class="viewcode-block" id="ParseArgsTest.test_include_filelist_asterisk"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.test_include_filelist_asterisk">[docs]</a>    <span class="k">def</span> <span class="nf">test_include_filelist_asterisk</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Filelist glob test with * instead of &#39;testfiles&#39;&quot;&quot;&quot;</span>
        <span class="c1"># Thank you to Elifarley Cruz for this test case</span>
        <span class="c1"># (https://bugs.launchpad.net/duplicity/+bug/884371).</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--include-filelist&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">)],</span>
                       <span class="p">[</span><span class="s2">&quot;*/select/1/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- **&quot;</span><span class="p">])</span></div>

<div class="viewcode-block" id="ParseArgsTest.test_include_filelist_asterisk_2"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.test_include_filelist_asterisk_2">[docs]</a>    <span class="k">def</span> <span class="nf">test_include_filelist_asterisk_2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Identical to test_filelist, but with the exclude &#39;select&#39; replaced with &#39;*&#39;&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--include-filelist&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">)],</span>
                       <span class="p">[</span><span class="s2">&quot;- testfiles/*/1/1/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;testfiles/select/1/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- testfiles/select/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- **&quot;</span><span class="p">])</span></div>

<div class="viewcode-block" id="ParseArgsTest.test_include_filelist_asterisk_3"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.test_include_filelist_asterisk_3">[docs]</a>    <span class="k">def</span> <span class="nf">test_include_filelist_asterisk_3</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Identical to test_filelist, but with the auto-include &#39;select&#39; replaced with &#39;*&#39;&quot;&quot;&quot;</span>
        <span class="c1"># Regression test for Bug #884371 (https://bugs.launchpad.net/duplicity/+bug/884371)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--include-filelist&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">)],</span>
                       <span class="p">[</span><span class="s2">&quot;- testfiles/select/1/1/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;testfiles/*/1/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- testfiles/select/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- **&quot;</span><span class="p">])</span></div>

<div class="viewcode-block" id="ParseArgsTest.test_include_filelist_asterisk_4"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.test_include_filelist_asterisk_4">[docs]</a>    <span class="k">def</span> <span class="nf">test_include_filelist_asterisk_4</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Identical to test_filelist, but with a specific include &#39;select&#39; replaced with &#39;*&#39;&quot;&quot;&quot;</span>
        <span class="c1"># Regression test for Bug #884371 (https://bugs.launchpad.net/duplicity/+bug/884371)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--include-filelist&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">)],</span>
                       <span class="p">[</span><span class="s2">&quot;- testfiles/select/1/1/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;+ testfiles/*/1/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- testfiles/select/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- **&quot;</span><span class="p">])</span></div>

<div class="viewcode-block" id="ParseArgsTest.test_include_filelist_asterisk_5"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.test_include_filelist_asterisk_5">[docs]</a>    <span class="k">def</span> <span class="nf">test_include_filelist_asterisk_5</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Identical to test_filelist, but with all &#39;select&#39;s replaced with &#39;*&#39;&quot;&quot;&quot;</span>
        <span class="c1"># Regression test for Bug #884371 (https://bugs.launchpad.net/duplicity/+bug/884371)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--include-filelist&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">)],</span>
                       <span class="p">[</span><span class="s2">&quot;- testfiles/*/1/1/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;+ testfiles/*/1/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- testfiles/*/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- **&quot;</span><span class="p">])</span></div>

<div class="viewcode-block" id="ParseArgsTest.test_include_filelist_asterisk_6"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.test_include_filelist_asterisk_6">[docs]</a>    <span class="k">def</span> <span class="nf">test_include_filelist_asterisk_6</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Identical to test_filelist, but with numerous excluded folders replaced with &#39;*&#39;&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--include-filelist&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">)],</span>
                       <span class="p">[</span><span class="s2">&quot;- */*/1/1/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;+ testfiles/select/1/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- */*/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- **&quot;</span><span class="p">])</span></div>

<div class="viewcode-block" id="ParseArgsTest.test_include_filelist_asterisk_7"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.test_include_filelist_asterisk_7">[docs]</a>    <span class="k">def</span> <span class="nf">test_include_filelist_asterisk_7</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Identical to test_filelist, but with numerous included/excluded folders replaced with &#39;*&#39;&quot;&quot;&quot;</span>
        <span class="c1"># Regression test for Bug #884371 (https://bugs.launchpad.net/duplicity/+bug/884371)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--include-filelist&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">)],</span>
                       <span class="p">[</span><span class="s2">&quot;- */*/1/1/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;+ */*/1/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- */*/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- **&quot;</span><span class="p">])</span></div>

<div class="viewcode-block" id="ParseArgsTest.test_include_filelist_double_asterisk_1"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.test_include_filelist_double_asterisk_1">[docs]</a>    <span class="k">def</span> <span class="nf">test_include_filelist_double_asterisk_1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Identical to test_filelist, but with the exclude &#39;select&#39; replaced with &#39;**&#39;&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--include-filelist&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">)],</span>
                       <span class="p">[</span><span class="s2">&quot;- testfiles/**/1/1/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;testfiles/select/1/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- testfiles/select/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- **&quot;</span><span class="p">])</span></div>

<div class="viewcode-block" id="ParseArgsTest.test_include_filelist_double_asterisk_2"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.test_include_filelist_double_asterisk_2">[docs]</a>    <span class="k">def</span> <span class="nf">test_include_filelist_double_asterisk_2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Identical to test_filelist, but with the include &#39;select&#39; replaced with &#39;**&#39;&quot;&quot;&quot;</span>
        <span class="c1"># Regression test for Bug #884371 (https://bugs.launchpad.net/duplicity/+bug/884371)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--include-filelist&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">)],</span>
                       <span class="p">[</span><span class="s2">&quot;- testfiles/select/1/1/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;**ct/1/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- testfiles/select/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- **&quot;</span><span class="p">])</span></div>

<div class="viewcode-block" id="ParseArgsTest.test_include_filelist_double_asterisk_3"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.test_include_filelist_double_asterisk_3">[docs]</a>    <span class="k">def</span> <span class="nf">test_include_filelist_double_asterisk_3</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Identical to test_filelist, but with the exclude &#39;testfiles/select&#39; replaced with &#39;**&#39;&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--include-filelist&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">)],</span>
                       <span class="p">[</span><span class="s2">&quot;- **/1/1/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;testfiles/select/1/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- testfiles/select/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- **&quot;</span><span class="p">])</span></div>

<div class="viewcode-block" id="ParseArgsTest.test_include_filelist_double_asterisk_4"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.test_include_filelist_double_asterisk_4">[docs]</a>    <span class="k">def</span> <span class="nf">test_include_filelist_double_asterisk_4</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Identical to test_filelist, but with the include &#39;testfiles/select&#39; replaced with &#39;**&#39;&quot;&quot;&quot;</span>
        <span class="c1"># Regression test for Bug #884371 (https://bugs.launchpad.net/duplicity/+bug/884371)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--include-filelist&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">)],</span>
                       <span class="p">[</span><span class="s2">&quot;- testfiles/select/1/1/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;**t/1/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- testfiles/select/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- **&quot;</span><span class="p">])</span></div>

<div class="viewcode-block" id="ParseArgsTest.test_include_filelist_double_asterisk_5"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.test_include_filelist_double_asterisk_5">[docs]</a>    <span class="k">def</span> <span class="nf">test_include_filelist_double_asterisk_5</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Identical to test_filelist, but with all &#39;testfiles/select&#39;s replaced with &#39;**&#39;&quot;&quot;&quot;</span>
        <span class="c1"># Regression test for Bug #884371 (https://bugs.launchpad.net/duplicity/+bug/884371)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--include-filelist&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">)],</span>
                       <span class="p">[</span><span class="s2">&quot;- **/1/1/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;**t/1/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- **t/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- **&quot;</span><span class="p">])</span></div>

<div class="viewcode-block" id="ParseArgsTest.test_include_filelist_trailing_slashes"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.test_include_filelist_trailing_slashes">[docs]</a>    <span class="k">def</span> <span class="nf">test_include_filelist_trailing_slashes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Filelist glob test similar to globbing filelist, but with trailing slashes&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--include-filelist&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">)],</span>
                       <span class="p">[</span><span class="s2">&quot;- testfiles/select/1/1/1/</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;testfiles/select/1/1/</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- testfiles/select/1/</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- **&quot;</span><span class="p">])</span></div>

<div class="viewcode-block" id="ParseArgsTest.test_include_filelist_trailing_slashes_and_single_asterisks"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.test_include_filelist_trailing_slashes_and_single_asterisks">[docs]</a>    <span class="k">def</span> <span class="nf">test_include_filelist_trailing_slashes_and_single_asterisks</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Filelist glob test similar to globbing filelist, but with trailing slashes and single asterisks&quot;&quot;&quot;</span>
        <span class="c1"># Regression test for Bug #932482 (https://bugs.launchpad.net/duplicity/+bug/932482)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--include-filelist&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">)],</span>
                       <span class="p">[</span><span class="s2">&quot;- */select/1/1/1/</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;testfiles/select/1/1/</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- testfiles/*/1/</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- **&quot;</span><span class="p">])</span></div>

<div class="viewcode-block" id="ParseArgsTest.test_include_filelist_trailing_slashes_and_double_asterisks"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.test_include_filelist_trailing_slashes_and_double_asterisks">[docs]</a>    <span class="k">def</span> <span class="nf">test_include_filelist_trailing_slashes_and_double_asterisks</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Filelist glob test similar to globbing filelist, but with trailing slashes and double asterisks&quot;&quot;&quot;</span>
        <span class="c1"># Regression test for Bug #932482 (https://bugs.launchpad.net/duplicity/+bug/932482)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--include-filelist&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">)],</span>
                       <span class="p">[</span><span class="s2">&quot;- **/1/1/1/</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;testfiles/select/1/1/</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- **t/1/</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- **&quot;</span><span class="p">])</span></div>

<div class="viewcode-block" id="ParseArgsTest.test_filelist_null_separator"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.test_filelist_null_separator">[docs]</a>    <span class="k">def</span> <span class="nf">test_filelist_null_separator</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;test_filelist, but with null_separator set&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_global</span><span class="p">(</span><span class="s1">&#39;null_separator&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--include-filelist&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">)],</span>
                       <span class="p">[</span><span class="s2">&quot;</span><span class="se">\0</span><span class="s2">- testfiles/select/1/1/1</span><span class="se">\0</span><span class="s2">testfiles/select/1/1</span><span class="se">\0</span><span class="s2">- testfiles/select/1</span><span class="se">\0</span><span class="s2">- **</span><span class="se">\0</span><span class="s2">&quot;</span><span class="p">])</span></div>

<div class="viewcode-block" id="ParseArgsTest.test_exclude_filelist"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.test_exclude_filelist">[docs]</a>    <span class="k">def</span> <span class="nf">test_exclude_filelist</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Exclude version of test_filelist&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--exclude-filelist&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">)],</span>
                       <span class="p">[</span><span class="s2">&quot;testfiles/select/1/1/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;+ testfiles/select/1/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;testfiles/select/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- **&quot;</span><span class="p">])</span></div>

<div class="viewcode-block" id="ParseArgsTest.test_exclude_filelist_asterisk_1"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.test_exclude_filelist_asterisk_1">[docs]</a>    <span class="k">def</span> <span class="nf">test_exclude_filelist_asterisk_1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Exclude version of test_include_filelist_asterisk&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--exclude-filelist&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">)],</span>
                       <span class="p">[</span><span class="s2">&quot;+ */select/1/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- **&quot;</span><span class="p">])</span></div>

<div class="viewcode-block" id="ParseArgsTest.test_exclude_filelist_asterisk_2"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.test_exclude_filelist_asterisk_2">[docs]</a>    <span class="k">def</span> <span class="nf">test_exclude_filelist_asterisk_2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Identical to test_exclude_filelist, but with the exclude &#39;select&#39; replaced with &#39;*&#39;&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--exclude-filelist&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">)],</span>
                       <span class="p">[</span><span class="s2">&quot;testfiles/*/1/1/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;+ testfiles/select/1/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;testfiles/select/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- **&quot;</span><span class="p">])</span></div>

<div class="viewcode-block" id="ParseArgsTest.test_exclude_filelist_asterisk_3"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.test_exclude_filelist_asterisk_3">[docs]</a>    <span class="k">def</span> <span class="nf">test_exclude_filelist_asterisk_3</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Identical to test_exclude_filelist, but with the include &#39;select&#39; replaced with &#39;*&#39;&quot;&quot;&quot;</span>
        <span class="c1"># Regression test for Bug #884371 (https://bugs.launchpad.net/duplicity/+bug/884371)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--exclude-filelist&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">)],</span>
                       <span class="p">[</span><span class="s2">&quot;testfiles/select/1/1/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;+ testfiles/*/1/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;testfiles/select/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- **&quot;</span><span class="p">])</span></div>

<div class="viewcode-block" id="ParseArgsTest.test_exclude_filelist_asterisk_4"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.test_exclude_filelist_asterisk_4">[docs]</a>    <span class="k">def</span> <span class="nf">test_exclude_filelist_asterisk_4</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Identical to test_exclude_filelist, but with numerous excluded folders replaced with &#39;*&#39;&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--exclude-filelist&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">)],</span>
                       <span class="p">[</span><span class="s2">&quot;*/select/1/1/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;+ testfiles/select/1/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;*/*/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- **&quot;</span><span class="p">])</span></div>

<div class="viewcode-block" id="ParseArgsTest.test_exclude_filelist_asterisk_5"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.test_exclude_filelist_asterisk_5">[docs]</a>    <span class="k">def</span> <span class="nf">test_exclude_filelist_asterisk_5</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Identical to test_exclude_filelist, but with numerous included/excluded folders replaced with &#39;*&#39;&quot;&quot;&quot;</span>
        <span class="c1"># Regression test for Bug #884371 (https://bugs.launchpad.net/duplicity/+bug/884371)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--exclude-filelist&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">)],</span>
                       <span class="p">[</span><span class="s2">&quot;*/select/1/1/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;+ */*/1/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;*/*/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- **&quot;</span><span class="p">])</span></div>

<div class="viewcode-block" id="ParseArgsTest.test_exclude_filelist_double_asterisk"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.test_exclude_filelist_double_asterisk">[docs]</a>    <span class="k">def</span> <span class="nf">test_exclude_filelist_double_asterisk</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Identical to test_exclude_filelist, but with all included/excluded folders replaced with &#39;**&#39;&quot;&quot;&quot;</span>
        <span class="c1"># Regression test for Bug #884371 (https://bugs.launchpad.net/duplicity/+bug/884371)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--exclude-filelist&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">)],</span>
                       <span class="p">[</span><span class="s2">&quot;**/1/1/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;+ **t/1/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;**t/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- **&quot;</span><span class="p">])</span></div>

<div class="viewcode-block" id="ParseArgsTest.test_exclude_filelist_single_asterisk_at_beginning"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.test_exclude_filelist_single_asterisk_at_beginning">[docs]</a>    <span class="k">def</span> <span class="nf">test_exclude_filelist_single_asterisk_at_beginning</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Exclude filelist testing limited functionality of functional test&quot;&quot;&quot;</span>
        <span class="c1"># Regression test for Bug #884371 (https://bugs.launchpad.net/duplicity/+bug/884371)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">root</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;testfiles/select/1&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--exclude-filelist&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">)],</span>
                       <span class="p">[</span><span class="s2">&quot;+ */select/1/2/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- testfiles/select/1/2</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- testfiles/*/1/1</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;- testfiles/select/1/3&quot;</span><span class="p">])</span></div>

<div class="viewcode-block" id="ParseArgsTest.test_commandline_asterisks_double_both"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.test_commandline_asterisks_double_both">[docs]</a>    <span class="k">def</span> <span class="nf">test_commandline_asterisks_double_both</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Unit test the functional test TestAsterisks.test_commandline_asterisks_double_both&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">root</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;testfiles/select/1&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--include&quot;</span><span class="p">,</span> <span class="s2">&quot;**/1/2/1&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;**t/1/2&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;**t/1/1&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;**t/1/3&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">)])</span></div>

<div class="viewcode-block" id="ParseArgsTest.test_includes_files"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.test_includes_files">[docs]</a>    <span class="k">def</span> <span class="nf">test_includes_files</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Unit test the functional test test_includes_files&quot;&quot;&quot;</span>
        <span class="c1"># Test for Bug 1624725</span>
        <span class="c1"># https://bugs.launchpad.net/duplicity/+bug/1624725</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">root</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;testfiles/select2/1/1sub1&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--include&quot;</span><span class="p">,</span> <span class="s2">&quot;testfiles/select2/1/1sub1/1sub1sub1&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;**&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;1sub1sub1&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;1sub1sub1&#39;</span><span class="p">,</span>
                                             <span class="s1">&#39;1sub1sub1_file.txt&#39;</span><span class="p">)])</span></div>

<div class="viewcode-block" id="ParseArgsTest.test_includes_files_trailing_slash"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.test_includes_files_trailing_slash">[docs]</a>    <span class="k">def</span> <span class="nf">test_includes_files_trailing_slash</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Unit test the functional test test_includes_files_trailing_slash&quot;&quot;&quot;</span>
        <span class="c1"># Test for Bug 1624725</span>
        <span class="c1"># https://bugs.launchpad.net/duplicity/+bug/1624725</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">root</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;testfiles/select2/1/1sub1&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--include&quot;</span><span class="p">,</span> <span class="s2">&quot;testfiles/select2/1/1sub1/1sub1sub1/&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;**&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;1sub1sub1&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;1sub1sub1&#39;</span><span class="p">,</span>
                                             <span class="s1">&#39;1sub1sub1_file.txt&#39;</span><span class="p">)])</span></div>

<div class="viewcode-block" id="ParseArgsTest.test_includes_files_trailing_slash_globbing_chars"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.test_includes_files_trailing_slash_globbing_chars">[docs]</a>    <span class="k">def</span> <span class="nf">test_includes_files_trailing_slash_globbing_chars</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Unit test functional test_includes_files_trailing_slash_globbing_chars&quot;&quot;&quot;</span>
        <span class="c1"># Test for Bug 1624725</span>
        <span class="c1"># https://bugs.launchpad.net/duplicity/+bug/1624725</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">root</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;testfiles/select2/1/1sub1&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--include&quot;</span><span class="p">,</span> <span class="s2">&quot;testfiles/s?lect2/1/1sub1/1sub1sub1/&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;**&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;1sub1sub1&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;1sub1sub1&#39;</span><span class="p">,</span>
                                             <span class="s1">&#39;1sub1sub1_file.txt&#39;</span><span class="p">)])</span></div>

<div class="viewcode-block" id="ParseArgsTest.test_glob"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.test_glob">[docs]</a>    <span class="k">def</span> <span class="nf">test_glob</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Test globbing expression&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;**[3-5]&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--include&quot;</span><span class="p">,</span> <span class="s2">&quot;testfiles/select/1&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;**&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">)])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--include&quot;</span><span class="p">,</span> <span class="s2">&quot;testfiles/select**/2&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;**&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">)])</span></div>

<div class="viewcode-block" id="ParseArgsTest.test_filelist2"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.test_filelist2">[docs]</a>    <span class="k">def</span> <span class="nf">test_filelist2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Filelist glob test similar to above testGlob&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--exclude-filelist&quot;</span><span class="p">,</span> <span class="s2">&quot;asoeuth&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">)],</span>
                       <span class="p">[</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">**[3-5]</span>
<span class="s2">+ testfiles/select/1</span>
<span class="s2">**</span>
<span class="s2">&quot;&quot;&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--include-filelist&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">)],</span>
                       <span class="p">[</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">testfiles/select**/2</span>
<span class="s2">- **</span>
<span class="s2">&quot;&quot;&quot;</span><span class="p">])</span></div>

<div class="viewcode-block" id="ParseArgsTest.test_glob2"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.test_glob2">[docs]</a>    <span class="k">def</span> <span class="nf">test_glob2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Test more globbing functions&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--include&quot;</span><span class="p">,</span> <span class="s2">&quot;testfiles/select/*foo*/p*&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;**&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;efools&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;efools&#39;</span><span class="p">,</span> <span class="s1">&#39;ping&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;foobar&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;foobar&#39;</span><span class="p">,</span> <span class="s1">&#39;pong&#39;</span><span class="p">)])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;testfiles/select/1/1/*&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;testfiles/select/1/2/**&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;testfiles/select/1/3**&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--include&quot;</span><span class="p">,</span> <span class="s2">&quot;testfiles/select/1&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;**&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">)])</span></div>

<div class="viewcode-block" id="ParseArgsTest.test_glob3"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.test_glob3">[docs]</a>    <span class="k">def</span> <span class="nf">test_glob3</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; regression test for bug 25230 &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--include&quot;</span><span class="p">,</span> <span class="s2">&quot;testfiles/select/**1&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--include&quot;</span><span class="p">,</span> <span class="s2">&quot;testfiles/select/**2&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;**&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">)])</span></div>

<div class="viewcode-block" id="ParseArgsTest.test_alternate_root"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.test_alternate_root">[docs]</a>    <span class="k">def</span> <span class="nf">test_alternate_root</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Test select with different root&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">root</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;testfiles/select/1&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;testfiles/select/1/[23]&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">)])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">root</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;/tmp/*&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--include&quot;</span><span class="p">,</span> <span class="s2">&quot;/tmp&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;/&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s2">&quot;tmp&quot;</span><span class="p">,)])</span></div>

<div class="viewcode-block" id="ParseArgsTest.test_exclude_after_scan"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.test_exclude_after_scan">[docs]</a>    <span class="k">def</span> <span class="nf">test_exclude_after_scan</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Test select with an exclude after a pattern that would return a scan for that file&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">root</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;testfiles/select2/3&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--include&quot;</span><span class="p">,</span> <span class="s2">&quot;testfiles/select2/3/**file.txt&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;testfiles/select2/3/3sub2&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--include&quot;</span><span class="p">,</span> <span class="s2">&quot;testfiles/select2/3/3sub1&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;**&quot;</span><span class="p">)],</span>
                       <span class="p">[(),</span> <span class="p">(</span><span class="s1">&#39;3sub1&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;3sub1&#39;</span><span class="p">,</span> <span class="s1">&#39;3sub1sub1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;3sub1&#39;</span><span class="p">,</span> <span class="s1">&#39;3sub1sub2&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;3sub1&#39;</span><span class="p">,</span> <span class="s1">&#39;3sub1sub3&#39;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s1">&#39;3sub3&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s1">&#39;3sub3&#39;</span><span class="p">,</span> <span class="s1">&#39;3sub3sub2&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;3sub3&#39;</span><span class="p">,</span> <span class="s1">&#39;3sub3sub2&#39;</span><span class="p">,</span> <span class="s1">&#39;3sub3sub2_file.txt&#39;</span><span class="p">)])</span></div>

<div class="viewcode-block" id="ParseArgsTest.test_include_exclude_basic"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.test_include_exclude_basic">[docs]</a>    <span class="k">def</span> <span class="nf">test_include_exclude_basic</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Test functional test test_include_exclude_basic as a unittest&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">root</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;testfiles/select2&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--include&quot;</span><span class="p">,</span> <span class="s2">&quot;testfiles/select2/3/3sub3/3sub3sub2/3sub3sub2_file.txt&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;testfiles/select2/3/3sub3/3sub3sub2&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--include&quot;</span><span class="p">,</span> <span class="s2">&quot;testfiles/select2/3/3sub2/3sub2sub2&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--include&quot;</span><span class="p">,</span> <span class="s2">&quot;testfiles/select2/3/3sub3&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;testfiles/select2/3/3sub1&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;testfiles/select2/2/2sub1/2sub1sub3&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;testfiles/select2/2/2sub1/2sub1sub2&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--include&quot;</span><span class="p">,</span> <span class="s2">&quot;testfiles/select2/2/2sub1&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;testfiles/select2/1/1sub3/1sub3sub2&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;testfiles/select2/1/1sub3/1sub3sub1&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;testfiles/select2/1/1sub2/1sub2sub3&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--include&quot;</span><span class="p">,</span> <span class="s2">&quot;testfiles/select2/1/1sub2/1sub2sub1&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;testfiles/select2/1/1sub1/1sub1sub3/1sub1sub3_file.txt&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;testfiles/select2/1/1sub1/1sub1sub2&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;testfiles/select2/1/1sub2&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--include&quot;</span><span class="p">,</span> <span class="s2">&quot;testfiles/select2/1.py&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--include&quot;</span><span class="p">,</span> <span class="s2">&quot;testfiles/select2/3&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--include&quot;</span><span class="p">,</span> <span class="s2">&quot;testfiles/select2/1&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;testfiles/select2/**&quot;</span><span class="p">)],</span>
                       <span class="bp">self</span><span class="o">.</span><span class="n">expected_restored_tree</span><span class="p">)</span></div>

<div class="viewcode-block" id="ParseArgsTest.test_globbing_replacement"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.ParseArgsTest.test_globbing_replacement">[docs]</a>    <span class="k">def</span> <span class="nf">test_globbing_replacement</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Test functional test test_globbing_replacement as a unittest&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">root</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;testfiles/select2&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ParseTest</span><span class="p">([(</span><span class="s2">&quot;--include&quot;</span><span class="p">,</span> <span class="s2">&quot;testfiles/select2/**/3sub3sub2/3sub3su?2_file.txt&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;testfiles/select2/*/3s*1&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;testfiles/select2/**/2sub1sub3&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;ignorecase:testfiles/select2/2/2sub1/2Sub1Sub2&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--include&quot;</span><span class="p">,</span> <span class="s2">&quot;ignorecase:testfiles/sel[w,u,e,q]ct2/2/2S?b1&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;testfiles/select2/1/1sub3/1s[w,u,p,q]b3sub2&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;testfiles/select2/1/1sub[1-4]/1sub3sub1&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--include&quot;</span><span class="p">,</span> <span class="s2">&quot;testfiles/select2/1/1sub2/1sub2sub1&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;testfiles/select2/1/1sub1/1sub1sub3/1su?1sub3_file.txt&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;testfiles/select2/1/1*1/1sub1sub2&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;testfiles/select2/1/1sub2&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--include&quot;</span><span class="p">,</span> <span class="s2">&quot;testfiles/select[2-4]/*.py&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--include&quot;</span><span class="p">,</span> <span class="s2">&quot;testfiles/*2/3&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--include&quot;</span><span class="p">,</span> <span class="s2">&quot;**/select2/1&quot;</span><span class="p">),</span>
                        <span class="p">(</span><span class="s2">&quot;--exclude&quot;</span><span class="p">,</span> <span class="s2">&quot;testfiles/select2/**&quot;</span><span class="p">)],</span>
                       <span class="bp">self</span><span class="o">.</span><span class="n">expected_restored_tree</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="TestGlobGetNormalSf"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.TestGlobGetNormalSf">[docs]</a><span class="k">class</span> <span class="nc">TestGlobGetNormalSf</span><span class="p">(</span><span class="n">UnitTestCase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Test glob parsing of the test_glob_get_normal_sf function. Indirectly test behaviour of glob_to_re.&quot;&quot;&quot;</span>

<div class="viewcode-block" id="TestGlobGetNormalSf.glob_tester"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.TestGlobGetNormalSf.glob_tester">[docs]</a>    <span class="k">def</span> <span class="nf">glob_tester</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">glob_string</span><span class="p">,</span> <span class="n">include_exclude</span><span class="p">,</span> <span class="n">root_path</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Takes a path, glob string and include_exclude value (1 = include, 0 = exclude) and returns the output</span>
<span class="sd">        of the selection function.</span>
<span class="sd">        None - means the test has nothing to say about the related file</span>
<span class="sd">        0 - the file is excluded by the test</span>
<span class="sd">        1 - the file is included</span>
<span class="sd">        2 - the test says the file (must be directory) should be scanned&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">unpack_testfiles</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">root</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">root_path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">select</span> <span class="o">=</span> <span class="n">Select</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="p">)</span>
        <span class="n">selection_function</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">select</span><span class="o">.</span><span class="n">glob_get_normal_sf</span><span class="p">(</span><span class="n">glob_string</span><span class="p">,</span> <span class="n">include_exclude</span><span class="p">)</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">selection_function</span><span class="p">(</span><span class="n">path</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestGlobGetNormalSf.include_glob_tester"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.TestGlobGetNormalSf.include_glob_tester">[docs]</a>    <span class="k">def</span> <span class="nf">include_glob_tester</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">glob_string</span><span class="p">,</span> <span class="n">root_path</span><span class="o">=</span><span class="s2">&quot;/&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">glob_tester</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">glob_string</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">root_path</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestGlobGetNormalSf.exclude_glob_tester"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.TestGlobGetNormalSf.exclude_glob_tester">[docs]</a>    <span class="k">def</span> <span class="nf">exclude_glob_tester</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">glob_string</span><span class="p">,</span> <span class="n">root_path</span><span class="o">=</span><span class="s2">&quot;/&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">glob_tester</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">glob_string</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">root_path</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestGlobGetNormalSf.test_glob_get_normal_sf_exclude"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.TestGlobGetNormalSf.test_glob_get_normal_sf_exclude">[docs]</a>    <span class="k">def</span> <span class="nf">test_glob_get_normal_sf_exclude</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Test simple exclude.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">exclude_glob_tester</span><span class="p">(</span><span class="s2">&quot;/testfiles/select2/3&quot;</span><span class="p">,</span> <span class="s2">&quot;/testfiles/select2&quot;</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">exclude_glob_tester</span><span class="p">(</span><span class="s2">&quot;/testfiles/.git&quot;</span><span class="p">,</span> <span class="s2">&quot;/testfiles&quot;</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestGlobGetNormalSf.test_glob_get_normal_sf_exclude_root"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.TestGlobGetNormalSf.test_glob_get_normal_sf_exclude_root">[docs]</a>    <span class="k">def</span> <span class="nf">test_glob_get_normal_sf_exclude_root</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Test simple exclude with / as the glob.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">exclude_glob_tester</span><span class="p">(</span><span class="s2">&quot;/.git&quot;</span><span class="p">,</span> <span class="s2">&quot;/&quot;</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">exclude_glob_tester</span><span class="p">(</span><span class="s2">&quot;/testfile&quot;</span><span class="p">,</span> <span class="s2">&quot;/&quot;</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestGlobGetNormalSf.test_glob_get_normal_sf_2"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.TestGlobGetNormalSf.test_glob_get_normal_sf_2">[docs]</a>    <span class="k">def</span> <span class="nf">test_glob_get_normal_sf_2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Test same behaviour as the functional test test_globbing_replacement.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">include_glob_tester</span><span class="p">(</span><span class="s2">&quot;/testfiles/select2/3/3sub3/3sub3sub2/3sub3sub2_file.txt&quot;</span><span class="p">,</span>
                                                  <span class="s2">&quot;/testfiles/select2/**/3sub3sub2/3sub3su?2_file.txt&quot;</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">include_glob_tester</span><span class="p">(</span><span class="s2">&quot;/testfiles/select2/3/3sub1&quot;</span><span class="p">,</span> <span class="s2">&quot;/testfiles/select2/*/3s*1&quot;</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">include_glob_tester</span><span class="p">(</span><span class="s2">&quot;/testfiles/select2/2/2sub1/2sub1sub3&quot;</span><span class="p">,</span>
                                                  <span class="s2">&quot;/testfiles/select2/**/2sub1sub3&quot;</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">include_glob_tester</span><span class="p">(</span><span class="s2">&quot;/testfiles/select2/2/2sub1&quot;</span><span class="p">,</span>
                                                  <span class="s2">&quot;/testfiles/sel[w,u,e,q]ct2/2/2s?b1&quot;</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">include_glob_tester</span><span class="p">(</span><span class="s2">&quot;/testfiles/select2/1/1sub3/1sub3sub2&quot;</span><span class="p">,</span>
                                                  <span class="s2">&quot;/testfiles/select2/1/1sub3/1s[w,u,p,q]b3sub2&quot;</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">exclude_glob_tester</span><span class="p">(</span><span class="s2">&quot;/testfiles/select2/1/1sub3/1sub3sub1&quot;</span><span class="p">,</span>
                                                  <span class="s2">&quot;/testfiles/select2/1/1sub[1-4]/1sub3sub1&quot;</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">include_glob_tester</span><span class="p">(</span><span class="s2">&quot;/testfiles/select2/1/1sub2/1sub2sub1&quot;</span><span class="p">,</span>
                                                  <span class="s2">&quot;/testfiles/select2/*/1sub2/1s[w,u,p,q]b2sub1&quot;</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">include_glob_tester</span><span class="p">(</span><span class="s2">&quot;/testfiles/select2/1/1sub1/1sub1sub3/1sub1sub3_file.txt&quot;</span><span class="p">,</span>
                                                  <span class="s2">&quot;/testfiles/select2/1/1sub1/1sub1sub3/1su?1sub3_file.txt&quot;</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">exclude_glob_tester</span><span class="p">(</span><span class="s2">&quot;/testfiles/select2/1/1sub1/1sub1sub2&quot;</span><span class="p">,</span>
                                                  <span class="s2">&quot;/testfiles/select2/1/1*1/1sub1sub2&quot;</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">include_glob_tester</span><span class="p">(</span><span class="s2">&quot;/testfiles/select2/1/1sub2&quot;</span><span class="p">,</span> <span class="s2">&quot;/testfiles/select2/1/1sub2&quot;</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">include_glob_tester</span><span class="p">(</span><span class="s2">&quot;/testfiles/select2/1.py&quot;</span><span class="p">,</span> <span class="s2">&quot;/testfiles/select[2-4]/*.py&quot;</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">exclude_glob_tester</span><span class="p">(</span><span class="s2">&quot;/testfiles/select2/3&quot;</span><span class="p">,</span> <span class="s2">&quot;/testfiles/*2/3&quot;</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">include_glob_tester</span><span class="p">(</span><span class="s2">&quot;/testfiles/select2/1&quot;</span><span class="p">,</span> <span class="s2">&quot;**/select2/1&quot;</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestGlobGetNormalSf.test_glob_get_normal_sf_negative_square_brackets_specified"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.TestGlobGetNormalSf.test_glob_get_normal_sf_negative_square_brackets_specified">[docs]</a>    <span class="k">def</span> <span class="nf">test_glob_get_normal_sf_negative_square_brackets_specified</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Test negative square bracket (specified) [!a,b,c] replacement in get_normal_sf.&quot;&quot;&quot;</span>
        <span class="c1"># As in a normal shell, [!...] expands to any single character but those specified</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">include_glob_tester</span><span class="p">(</span><span class="s2">&quot;/test/hello1.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;/test/hello[!2,3,4].txt&quot;</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">include_glob_tester</span><span class="p">(</span><span class="s2">&quot;/test/hello.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;/t[!w,f,h]st/hello.txt&quot;</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">exclude_glob_tester</span><span class="p">(</span><span class="s2">&quot;/long/example/path/hello.txt&quot;</span><span class="p">,</span>
                                                  <span class="s2">&quot;/lon[!w,e,f]/e[!p]ample/path/hello.txt&quot;</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">include_glob_tester</span><span class="p">(</span><span class="s2">&quot;/test/hello1.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;/test/hello[!2,1,3,4].txt&quot;</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">include_glob_tester</span><span class="p">(</span><span class="s2">&quot;/test/hello.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;/t[!e,f,h]st/hello.txt&quot;</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">exclude_glob_tester</span><span class="p">(</span><span class="s2">&quot;/long/example/path/hello.txt&quot;</span><span class="p">,</span>
                                                  <span class="s2">&quot;/lon[!w,e,g,f]/e[!p,x]ample/path/hello.txt&quot;</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestGlobGetNormalSf.test_glob_get_normal_sf_negative_square_brackets_range"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.TestGlobGetNormalSf.test_glob_get_normal_sf_negative_square_brackets_range">[docs]</a>    <span class="k">def</span> <span class="nf">test_glob_get_normal_sf_negative_square_brackets_range</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Test negative square bracket (range) [!a,b,c] replacement in get_normal_sf.&quot;&quot;&quot;</span>
        <span class="c1"># As in a normal shell, [!1-5] or [!a-f] expands to any single character not in the range specified</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">include_glob_tester</span><span class="p">(</span><span class="s2">&quot;/test/hello1.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;/test/hello[!2-4].txt&quot;</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">include_glob_tester</span><span class="p">(</span><span class="s2">&quot;/test/hello.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;/t[!f-h]st/hello.txt&quot;</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">exclude_glob_tester</span><span class="p">(</span><span class="s2">&quot;/long/example/path/hello.txt&quot;</span><span class="p">,</span>
                                                  <span class="s2">&quot;/lon[!w,e,f]/e[!p-s]ample/path/hello.txt&quot;</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">include_glob_tester</span><span class="p">(</span><span class="s2">&quot;/test/hello1.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;/test/hello[!1-4].txt&quot;</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">include_glob_tester</span><span class="p">(</span><span class="s2">&quot;/test/hello.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;/t[!b-h]st/hello.txt&quot;</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">exclude_glob_tester</span><span class="p">(</span><span class="s2">&quot;/long/example/path/hello.txt&quot;</span><span class="p">,</span>
                                                  <span class="s2">&quot;/lon[!f-p]/e[!p]ample/path/hello.txt&quot;</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestGlobGetNormalSf.test_glob_get_normal_sf_2_ignorecase"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.TestGlobGetNormalSf.test_glob_get_normal_sf_2_ignorecase">[docs]</a>    <span class="k">def</span> <span class="nf">test_glob_get_normal_sf_2_ignorecase</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Test same behaviour as the functional test test_globbing_replacement, ignorecase tests.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">include_glob_tester</span><span class="p">(</span><span class="s2">&quot;testfiles/select2/2/2sub1&quot;</span><span class="p">,</span>
                                                  <span class="s2">&quot;ignorecase:testfiles/sel[w,u,e,q]ct2/2/2S?b1&quot;</span><span class="p">,</span>
                                                  <span class="s2">&quot;testfiles/select2&quot;</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">include_glob_tester</span><span class="p">(</span><span class="s2">&quot;testfiles/select2/2/2sub1/2sub1sub2&quot;</span><span class="p">,</span>
                                                  <span class="s2">&quot;ignorecase:testfiles/select2/2/2sub1/2Sub1Sub2&quot;</span><span class="p">,</span>
                                                  <span class="s2">&quot;testfiles/select2&quot;</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestGlobGetNormalSf.test_glob_get_normal_sf_3_double_asterisks_dirs_to_scan"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.TestGlobGetNormalSf.test_glob_get_normal_sf_3_double_asterisks_dirs_to_scan">[docs]</a>    <span class="k">def</span> <span class="nf">test_glob_get_normal_sf_3_double_asterisks_dirs_to_scan</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Test double asterisk (**) replacement in glob_get_normal_sf with directories that should be scanned&quot;&quot;&quot;</span>
        <span class="c1"># The new special pattern, **, expands to any string of characters whether or not it contains &quot;/&quot;.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">include_glob_tester</span><span class="p">(</span><span class="s2">&quot;/long/example/path&quot;</span><span class="p">,</span> <span class="s2">&quot;/**/hello.txt&quot;</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestGlobGetNormalSf.test_glob_get_normal_sf_3_ignorecase"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.TestGlobGetNormalSf.test_glob_get_normal_sf_3_ignorecase">[docs]</a>    <span class="k">def</span> <span class="nf">test_glob_get_normal_sf_3_ignorecase</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Test ignorecase in glob_get_normal_sf&quot;&quot;&quot;</span>
        <span class="c1"># If the pattern starts with &quot;ignorecase:&quot; (case insensitive), then this prefix will be removed and any</span>
        <span class="c1"># character in the string can be replaced with an upper- or lowercase version of itself.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">include_glob_tester</span><span class="p">(</span><span class="s2">&quot;testfiles/select2/2&quot;</span><span class="p">,</span> <span class="s2">&quot;ignorecase:testfiles/select2/2&quot;</span><span class="p">,</span>
                                                  <span class="s2">&quot;testfiles/select2&quot;</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">include_glob_tester</span><span class="p">(</span><span class="s2">&quot;testfiles/select2/2&quot;</span><span class="p">,</span> <span class="s2">&quot;ignorecase:testFiles/Select2/2&quot;</span><span class="p">,</span>
                                                  <span class="s2">&quot;testfiles/select2&quot;</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">include_glob_tester</span><span class="p">(</span><span class="s2">&quot;tEstfiles/seLect2/2&quot;</span><span class="p">,</span> <span class="s2">&quot;ignorecase:testFiles/Select2/2&quot;</span><span class="p">,</span>
                                                  <span class="s2">&quot;testfiles/select2&quot;</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">include_glob_tester</span><span class="p">(</span><span class="s2">&quot;TEstfiles/SeLect2/2&quot;</span><span class="p">,</span> <span class="s2">&quot;ignorecase:t?stFiles/S*ect2/2&quot;</span><span class="p">,</span>
                                                  <span class="s2">&quot;testfiles/select2&quot;</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">include_glob_tester</span><span class="p">(</span><span class="s2">&quot;TEstfiles/SeLect2/2&quot;</span><span class="p">,</span> <span class="s2">&quot;ignorecase:t?stFil**ect2/2&quot;</span><span class="p">,</span>
                                                  <span class="s2">&quot;testfiles/select2&quot;</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">exclude_glob_tester</span><span class="p">(</span><span class="s2">&quot;TEstfiles/SeLect2/2&quot;</span><span class="p">,</span> <span class="s2">&quot;ignorecase:t?stFiles/S*ect2/2&quot;</span><span class="p">,</span>
                                                  <span class="s2">&quot;testfiles/select2&quot;</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">exclude_glob_tester</span><span class="p">(</span><span class="s2">&quot;TEstFiles/SeLect2/2&quot;</span><span class="p">,</span> <span class="s2">&quot;ignorecase:t?stFile**ect2/2&quot;</span><span class="p">,</span>
                                                  <span class="s2">&quot;testfiles/select2&quot;</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestGlobGetNormalSf.test_glob_dirs_to_scan"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.TestGlobGetNormalSf.test_glob_dirs_to_scan">[docs]</a>    <span class="k">def</span> <span class="nf">test_glob_dirs_to_scan</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Test parent directories are marked as needing to be scanned&quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">patch</span><span class="p">(</span><span class="s1">&#39;duplicity.path.Path.isdir&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">mock_isdir</span><span class="p">:</span>
            <span class="n">mock_isdir</span><span class="o">.</span><span class="n">return_value</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">glob_tester</span><span class="p">(</span><span class="s2">&quot;parent&quot;</span><span class="p">,</span> <span class="s2">&quot;parent/hello.txt&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;parent&quot;</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestGlobGetNormalSf.test_glob_dirs_to_scan_glob"><a class="viewcode-back" href="../../../testing.unit.test_selection.html#testing.unit.test_selection.TestGlobGetNormalSf.test_glob_dirs_to_scan_glob">[docs]</a>    <span class="k">def</span> <span class="nf">test_glob_dirs_to_scan_glob</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Test parent directories are marked as needing to be scanned - globs&quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">patch</span><span class="p">(</span><span class="s1">&#39;duplicity.path.Path.isdir&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">mock_isdir</span><span class="p">:</span>
            <span class="n">mock_isdir</span><span class="o">.</span><span class="n">return_value</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">glob_tester</span><span class="p">(</span><span class="s2">&quot;testfiles/select/1&quot;</span><span class="p">,</span> <span class="s2">&quot;*/select/1/1&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
                                 <span class="s2">&quot;testfiles/select&quot;</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">glob_tester</span><span class="p">(</span><span class="s2">&quot;testfiles/select/1/2&quot;</span><span class="p">,</span>
                                 <span class="s2">&quot;*/select/1/2/1&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;testfiles/select&quot;</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">glob_tester</span><span class="p">(</span><span class="s2">&quot;parent&quot;</span><span class="p">,</span> <span class="s2">&quot;parent/hel?o.txt&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;parent&quot;</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">glob_tester</span><span class="p">(</span><span class="s2">&quot;test/parent/folder&quot;</span><span class="p">,</span>
                                 <span class="s2">&quot;test/par*t/folder/hello.txt&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;test&quot;</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">glob_tester</span><span class="p">(</span><span class="s2">&quot;testfiles/select/1/1&quot;</span><span class="p">,</span>
                                 <span class="s2">&quot;**/1/2/1&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;testfiles&quot;</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">glob_tester</span><span class="p">(</span><span class="s2">&quot;testfiles/select2/3/3sub2&quot;</span><span class="p">,</span>
                                 <span class="s2">&quot;testfiles/select2/3/**file.txt&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
                                 <span class="s2">&quot;testfiles&quot;</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">glob_tester</span><span class="p">(</span><span class="s2">&quot;testfiles/select/1/2&quot;</span><span class="p">,</span>
                                 <span class="s2">&quot;*/select/1/2/1&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;testfiles&quot;</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">glob_tester</span><span class="p">(</span><span class="s2">&quot;testfiles/select/1&quot;</span><span class="p">,</span>
                                 <span class="s2">&quot;testfiles/select**/2&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;testfiles&quot;</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">glob_tester</span><span class="p">(</span><span class="s2">&quot;testfiles/select/efools&quot;</span><span class="p">,</span>
                                 <span class="s2">&quot;testfiles/select/*foo*/p*&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
                                 <span class="s2">&quot;testfiles&quot;</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">glob_tester</span><span class="p">(</span><span class="s2">&quot;testfiles/select/3&quot;</span><span class="p">,</span>
                                 <span class="s2">&quot;testfiles/select/**2&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;testfiles&quot;</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">glob_tester</span><span class="p">(</span><span class="s2">&quot;testfiles/select2/1/1sub1/1sub1sub2&quot;</span><span class="p">,</span>
                                 <span class="s2">&quot;testfiles/select2/**/3sub3sub2/3sub3su?2_file.txt&quot;</span><span class="p">,</span>
                                 <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;testfiles&quot;</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">glob_tester</span><span class="p">(</span><span class="s2">&quot;testfiles/select/1&quot;</span><span class="p">,</span>
                                 <span class="s2">&quot;*/select/1/1&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;testfiles&quot;</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span></div></div>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">unittest</span><span class="o">.</span><span class="n">main</span><span class="p">()</span>
</pre></div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../index.html">Documentation overview</a><ul>
  <li><a href="../../index.html">Module code</a><ul>
  <li><a href="../../testing.html">testing</a><ul>
  <li><a href="../unit.html">testing.unit</a><ul>
  </ul></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Kenneth Loafman and Duplicity Team.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.5.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.9</a>
      
    </div>

    

    
  </body>
</html>